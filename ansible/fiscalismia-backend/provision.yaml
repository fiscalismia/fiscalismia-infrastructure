- name: Create new linux user for docker
  hosts: all
  become: true
  become_method: sudo
  roles:
    - roles_provisioning/0-create-permit-docker-user

- name: Setup Host for Remote VSCode Development via SSH
  hosts: all
  become: true
  become_method: sudo
  roles:
    - roles_provisioning/1-setup-vscode-ssh-remoting

- name: Install Pip & Boto 3 for caller_info dependencies
  hosts: all
  become: true
  roles:
    - roles_provisioning/2-install-pip-boto3

# see https://docs.ansible.com/ansible-core/2.17/playbook_guide/playbooks_privilege_escalation.html#risks-of-becoming-an-unprivileged-user
- name: Install ACL so ansible works for non-root users
  hosts: all
  become: true
  roles:
    - roles_provisioning/3-install-acl-for-non-root-users

- name: Install Docker & Docker Compose
  hosts: all
  become: true
  roles:
    - roles_provisioning/4-install-docker-and-compose

- name: Install essential monitoring package suite
  hosts: all
  become: true
  roles:
    - roles_provisioning/5-install-monitoring-tools
